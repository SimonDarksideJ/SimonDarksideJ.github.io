<!DOCTYPE html>
<html lang="en" data-theme="auto">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  
  <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>

  {% assign meta_desc = page.description | default: page.excerpt | default: site.description %}
  {% assign meta_desc = meta_desc | strip_html | strip_newlines | strip | truncate: 160 %}
  <meta name="description" content="{{ meta_desc }}">
  
  {% if site.favicon %}
    <link rel="icon" href="{{ site.favicon | relative_url }}" sizes="any">
  {% endif %}
  <link rel="icon" href="{{ '/favicon.ico' | relative_url }}" sizes="any">
  {% if site.logo_icon %}
    {% if site.logo_icon contains '.svg' %}
      <link rel="icon" type="image/svg+xml" href="{{ site.logo_icon | relative_url }}">
    {% elsif site.logo_icon contains '.png' %}
      <link rel="icon" type="image/png" href="{{ site.logo_icon | relative_url }}">
    {% elsif site.logo_icon contains '.ico' %}
      <link rel="icon" type="image/x-icon" href="{{ site.logo_icon | relative_url }}">
    {% else %}
      <link rel="icon" href="{{ site.logo_icon | relative_url }}">
    {% endif %}
  {% endif %}
  <link rel="stylesheet" href="{{ '/assets/css/main.css' | relative_url }}">
  <link rel="canonical" href="{{ page.url | absolute_url }}">
  
  <!-- OpenGraph -->
  <meta property="og:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  <meta property="og:description" content="{{ meta_desc }}">
  <meta property="og:type" content="{% if page.layout == 'post' %}article{% else %}website{% endif %}">
  <meta property="og:url" content="{{ page.url | absolute_url }}">

  {% assign page_img = page.img | default: page.image | default: page.banner | default: page.featured_image | default: page.cover | default: page.header_image | default: page.hero_image | default: page.thumbnail %}
  {% if page_img %}
    {% assign page_img_first = page_img | slice: 0, 1 %}
    {% if page_img contains '://' %}
      <meta property="og:image" content="{{ page_img }}">
      <meta name="twitter:image" content="{{ page_img }}">
    {% elsif page_img_first == '/' %}
      <meta property="og:image" content="{{ page_img | absolute_url }}">
      <meta name="twitter:image" content="{{ page_img | absolute_url }}">
    {% else %}
      <meta property="og:image" content="{{ '/assets/img/' | append: page_img | absolute_url }}">
      <meta name="twitter:image" content="{{ '/assets/img/' | append: page_img | absolute_url }}">
    {% endif %}
  {% endif %}
  
  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="{% if page.title %}{{ page.title }}{% else %}{{ site.title }}{% endif %}">
  
  {% if site.google_analytics %}
  <script async src="https://www.googletagmanager.com/gtag/js?id={{ site.google_analytics }}"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', '{{ site.google_analytics }}');
  </script>
  {% endif %}
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>
  
  {% include header.html %}

  <button id="theme-toggle" class="icon-btn theme-toggle-fab" type="button" aria-label="Toggle theme">
    <svg class="theme-toggle__icon theme-toggle__icon--moon" viewBox="0 0 24 24" width="22" height="22" aria-hidden="true" focusable="false">
      <path fill="currentColor" d="M21 12.79A9 9 0 1 1 11.21 3a7 7 0 0 0 9.79 9.79Z"/>
    </svg>
    <svg class="theme-toggle__icon theme-toggle__icon--sun" viewBox="0 0 24 24" width="22" height="22" aria-hidden="true" focusable="false">
      <path fill="currentColor" d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12Zm0-16a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0V3a1 1 0 0 1 1-1Zm0 18a1 1 0 0 1 1 1v2a1 1 0 1 1-2 0v-2a1 1 0 0 1 1-1ZM4.22 5.64a1 1 0 0 1 1.41 0l1.41 1.41a1 1 0 1 1-1.41 1.41L4.22 7.05a1 1 0 0 1 0-1.41Zm12.32 12.32a1 1 0 0 1 1.41 0l1.41 1.41a1 1 0 0 1-1.41 1.41l-1.41-1.41a1 1 0 0 1 0-1.41ZM2 12a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm16 0a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1ZM4.22 18.36a1 1 0 0 1 0-1.41l1.41-1.41a1 1 0 0 1 1.41 1.41l-1.41 1.41a1 1 0 0 1-1.41 0Zm12.32-12.32a1 1 0 0 1 0-1.41l1.41-1.41a1 1 0 0 1 1.41 1.41l-1.41 1.41a1 1 0 0 1-1.41 0Z"/>
    </svg>
  </button>
  
  <main id="main-content" role="main">
    {{ content }}
  </main>
  
  {% include footer.html %}
  
  <script src="{{ '/assets/js/theme-toggle.js' | relative_url }}"></script>
  <script src="{{ '/assets/js/mobile-menu.js' | relative_url }}"></script>
  <script src="{{ '/assets/js/search.js' | relative_url }}"></script>
  <script src="{{ '/assets/js/toc.js' | relative_url }}"></script>
  <script src="{{ '/assets/js/markdown-alerts.js' | relative_url }}"></script>
</body>
</html>
